!function(e){function t(e){var t=document.createElement("input"),e="on"+e,a=e in t;return a||(t.setAttribute(e,"return;"),a="function"==typeof t[e]),t=null,a}function a(t,i,n){var r=n.aliases[t];return r?(r.alias&&a(r.alias,void 0,n),e.extend(!0,n,r),e.extend(!0,n,i),!0):!1}function i(t){function a(e){function a(e,t,a,i){this.matches=[],this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=a||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function i(e,a,i){var n=t.definitions[a],r=0==e.matches.length;if(i=void 0!=i?i:e.matches.length,n&&!s){for(var o=n.prevalidator,l=o?o.length:0,u=1;u<n.cardinality;u++){var c=l>=u?o[u-1]:[],d=c.validator,p=c.cardinality;e.matches.splice(i++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:p?p:1,optionality:e.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||a,placeholder:n.placeholder})}e.matches.splice(i++,0,{fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:e.isOptional,newBlockMarker:r,casing:n.casing,def:n.definitionSymbol||a,placeholder:n.placeholder})}else e.matches.splice(i++,0,{fn:null,cardinality:0,optionality:e.isOptional,newBlockMarker:r,casing:null,def:a,placeholder:void 0}),s=!1}for(var n,r,o=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})\??|[^.?*+^${[]()|\\]+|./g,s=!1,l=new a,u=[],c=[];n=o.exec(e);)switch(r=n[0],r.charAt(0)){case t.optionalmarker.end:case t.groupmarker.end:var d=u.pop();u.length>0?u[u.length-1].matches.push(d):l.matches.push(d);break;case t.optionalmarker.start:u.push(new a(!1,!0));break;case t.groupmarker.start:u.push(new a(!0));break;case t.quantifiermarker.start:var p=new a(!1,!1,!0);r=r.replace(/[{}]/g,"");var f=r.split(","),v=isNaN(f[0])?f[0]:parseInt(f[0]),m=1==f.length?v:isNaN(f[1])?f[1]:parseInt(f[1]);if(("*"==m||"+"==m)&&(v="*"==m?0:1),p.quantifier={min:v,max:m},u.length>0){var h=u[u.length-1].matches,n=h.pop();if(!n.isGroup){var k=new a(!0);k.matches.push(n),n=k}h.push(n),h.push(p)}else{var n=l.matches.pop();if(!n.isGroup){var k=new a(!0);k.matches.push(n),n=k}l.matches.push(n),l.matches.push(p)}break;case t.escapeChar:s=!0;break;case t.alternatormarker:break;default:if(u.length>0)i(u[u.length-1],r);else{if(l.matches.length>0){var g=l.matches[l.matches.length-1];g.isGroup&&(g.isGroup=!1,i(g,t.groupmarker.start,0),i(g,t.groupmarker.end))}i(l,r)}}if(l.matches.length>0){var g=l.matches[l.matches.length-1];g.isGroup&&(g.isGroup=!1,i(g,t.groupmarker.start,0),i(g,t.groupmarker.end)),c.push(l)}return c}function i(i,n){if(t.numericInput&&t.multi!==!0){i=i.split("").reverse();for(var r=0;r<i.length;r++)i[r]==t.optionalmarker.start?i[r]=t.optionalmarker.end:i[r]==t.optionalmarker.end?i[r]=t.optionalmarker.start:i[r]==t.groupmarker.start?i[r]=t.groupmarker.end:i[r]==t.groupmarker.end&&(i[r]=t.groupmarker.start);i=i.join("")}if(void 0==i||""==i)return void 0;if(t.repeat>0||"*"==t.repeat||"+"==t.repeat){var o="*"==t.repeat?0:"+"==t.repeat?1:t.repeat;i=t.groupmarker.start+i+t.groupmarker.end+t.quantifiermarker.start+o+","+t.repeat+t.quantifiermarker.end}return void 0==e.inputmask.masksCache[i]&&(e.inputmask.masksCache[i]={mask:i,maskToken:a(i),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:n}),e.extend(!0,{},e.inputmask.masksCache[i])}var n=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){n.push(void 0!=t.mask?i(t.mask.toString(),t):i(t.toString()))}):(1==t.mask.length&&0==t.greedy&&0!=t.repeat&&(t.placeholder=""),n=void 0!=t.mask.mask?i(t.mask.mask.toString(),t.mask):i(t.mask.toString())),n}function n(t,a,i){function n(e,t,a){t=t||0;var n,r,s,l=[],u=0;do{if(e===!0&&o().validPositions[u]){var c=o().validPositions[u];r=c.match,n=c.locator.slice(),l.push(null==r.fn?r.def:a===!0?c.input:r.placeholder||i.placeholder.charAt(u%i.placeholder.length))}else{if(t>u){var d=y(u,n,u-1);s=d[0]}else s=k(u,n,u-1);r=s.match,n=s.locator.slice(),l.push(null==r.fn?r.def:r.placeholder||i.placeholder.charAt(u%i.placeholder.length))}u++}while((void 0==tt||tt>u-1)&&null!=r.fn||null==r.fn&&""!=r.def||t>=u);return l.pop(),l}function o(){return a}function f(e){var t=o();t.buffer=void 0,t.tests={},e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=-1)}function v(t){var a=o(),n=-1,r=a.validPositions;if(e.isFunction(i.getLastValidPosition))n=i.getLastValidPosition.call(et,a,t,i);else{void 0==t&&(t=-1);var s=n,l=n;for(var u in r){var c=parseInt(u);(-1==t||null!=r[c].match.fn)&&(t>c&&(s=c),c>=t&&(l=c))}n=t-s>1||t>l?s:l}return n}function m(t,a,n){if(i.insertMode&&void 0!=o().validPositions[t]&&void 0==n){var r,s=e.extend(!0,{},o().validPositions),l=v();for(r=t;l>=r;r++)delete o().validPositions[r];o().validPositions[t]=a;var u=!0;for(r=t;l>=r;r++){var c=s[r];if(void 0!=c){var d=null==c.match.fn?r+1:S(r);u=_(d,c.match.def)?u&&A(d,c.input,!0,!0)!==!1:!1}if(!u)break}if(!u)return o().validPositions=e.extend(!0,{},s),!1}else o().validPositions[t]=a;return!0}function h(e,t){var a,i,n=e;for(a=e;t>a;a++)delete o().validPositions[a];for(a=t;a<=v();){var r=o().validPositions[a],s=o().validPositions[n];void 0!=r&&void 0==s?(_(n,r.match.def)&&A(n,r.input,!0)!==!1&&(delete o().validPositions[a],a++),n++):a++}for(i=v();i>0&&(void 0==o().validPositions[i]||null==o().validPositions[i].match.fn);)delete o().validPositions[i],i--;f(!0)}function k(e,t,a){for(var n,r=y(e,t,a),o=0;o<r.length&&(n=r[o],!i.greedy&&(!n.match||n.match.optionality!==!1&&n.match.newBlockMarker!==!1||n.match.optionalQuantifier===!0));o++);return n}function g(e){return o().validPositions[e]?o().validPositions[e].match:y(e)[0].match}function _(e,t){for(var a=!1,i=y(e),n=0;n<i.length;n++)if(i[n].match&&i[n].match.def==t){a=!0;break}return a}function y(t,a,n){function r(a,n,o,s){function u(o,s,f){if(l==t&&void 0==o.matches)return c.push({match:o,locator:s.reverse()}),!0;if(void 0!=o.matches){if(o.isGroup&&f!==!0){if(o=u(a.matches[p+1],s))return!0}else if(o.isOptional){var v=o;if(o=r(o,n,s,f)){var m=c[c.length-1].match,h=0==e.inArray(m,v.matches);h&&(d=!0),l=t}}else if(o.isAlternator);else if(o.isQuantifier&&f!==!0){var k=o;i.greedy=i.greedy&&isFinite(k.quantifier.max);for(var g=n.length>0&&f!==!0?n.shift():0;g<(isNaN(k.quantifier.max)?g+1:k.quantifier.max)&&t>=l;g++){var _=a.matches[e.inArray(k,a.matches)-1];if(o=u(_,[g].concat(s),!0)){var m=c[c.length-1].match;m.optionalQuantifier=g>k.quantifier.min-1;var h=0==e.inArray(m,_.matches);if(h){if(g>k.quantifier.min-1){d=!0,l=t;break}return!0}return!0}}}else if(o=r(o,n,s,f))return!0}else l++}for(var p=n.length>0?n.shift():0;p<a.matches.length;p++)if(a.matches[p].isQuantifier!==!0){var f=u(a.matches[p],[p].concat(o),s);if(f&&l==t)return f;if(l>t)break}}var s=o().maskToken,l=a?n:0,u=a||[0],c=[],d=!1;if(void 0==a){for(var p,f=t-1;void 0==(p=o().validPositions[f])&&f>-1;)f--;if(void 0!=p&&f>-1)l=f,u=p.locator.slice();else{for(f=t-1;void 0==(p=o().tests[f])&&f>-1;)f--;void 0!=p&&f>-1&&(l=f,u=p[0].locator.slice())}}for(var v=u.shift();v<s.length;v++){var m=r(s[v],u,[v]);if(m&&l==t||l>t)break}return(0==c.length||d)&&c.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),o().tests[t]=c,c}function b(){return void 0==o()._buffer&&(o()._buffer=n(!1,1)),o()._buffer}function P(){return void 0==o().buffer&&(o().buffer=n(!0,v(),!0)),o().buffer}function C(e,t){var a=P().slice();if(e===!0)f(),e=0,t=a.length;else for(var n=e;t>n;n++)delete o().validPositions[n],delete o().tests[n];for(var n=e;t>n;n++)a[n]!=i.skipOptionalPartCharacter&&A(n,a[n],!0,!0)}function E(e,t){switch(t.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e}function A(t,a,n,r){function s(t,a,n,r){var s=!1;return e.each(y(t),function(l,u){for(var c=u.match,d=a?1:0,p="",k=(P(),c.cardinality);k>d;k--)p+=G(t-(k-1));if(a&&(p+=a),s=null!=c.fn?c.fn.test(p,o(),t,n,i):a!=c.def&&a!=i.skipOptionalPartCharacter||""==c.def?!1:{c:c.def,pos:t},s!==!1){var g=void 0!=s.c?s.c:a;g=g==i.skipOptionalPartCharacter&&null===c.fn?c.def:g;var _=t;if(void 0!=s.remove&&h(s.remove,s.remove+1),s.refreshFromBuffer){var y=s.refreshFromBuffer;if(n=!0,C(y===!0?y:y.start,y.end),void 0==s.pos&&void 0==s.c)return s.pos=v(),!1;if(_=void 0!=s.pos?s.pos:t,_!=t)return s=e.extend(s,A(_,g,!0)),!1}else if(s!==!0&&void 0!=s.pos&&s.pos!=t&&(_=s.pos,C(t,_),_!=t))return s=e.extend(s,A(_,g,!0)),!1;return 1!=s&&void 0==s.pos&&void 0==s.c?!1:(l>0&&f(!0),m(_,e.extend({},u,{input:E(g,c)}),r)||(s=!1),!1)}}),s}n=n===!0;for(var l=P(),u=t-1;u>-1&&(!o().validPositions[u]||null!=o().validPositions[u].fn);u--)if((!M(u)||l[u]!=D(u))&&y(u).length>1){s(u,l[u],!0);break}var c=t;if(c>=w())return!1;var d=s(c,a,n,r);if(!n&&d===!1){var p=o().validPositions[c];if(!p||null!=p.match.fn||p.match.def!=a&&a!=i.skipOptionalPartCharacter){if((i.insertMode||void 0==o().validPositions[S(c)])&&!M(c))for(var k=c+1,g=S(c);g>=k;k++)if(d=s(k,a,n,r),d!==!1){c=k;break}}else d={caret:S(c)}}return d===!0&&(d={pos:c}),d}function M(e){var t=g(e);return null!=t.fn?t.fn:!1}function w(){var e;if(tt=et.prop("maxLength"),-1==tt&&(tt=void 0),0==i.greedy){var t,a=v(),n=o().validPositions[a],r=void 0!=n?n.locator.slice():void 0;for(t=a+1;void 0==n||null!=n.match.fn||null==n.match.fn&&""!=n.match.def;t++)n=k(t,r,t-1),r=n.locator.slice();e=t}else e=P().length;return void 0==tt||tt>e?e:tt}function S(e){var t=w();if(e>=t)return t;for(var a=e;++a<t&&!M(a)&&(i.nojumps!==!0||i.nojumpsThreshold>a););return a}function T(e){var t=e;if(0>=t)return 0;for(;--t>0&&!M(t););return t}function G(e){return void 0==o().validPositions[e]?D(e):o().validPositions[e].input}function O(e,t,a){e._valueSet(t.join("")),void 0!=a&&B(e,a)}function D(e,t){return t=t||g(e),t.placeholder||(null==t.fn?t.def:i.placeholder.charAt(e%i.placeholder.length))}function j(t,a,i,n,r){var s=void 0!=n?n.slice():K(t._valueGet()).split("");f(),a&&t._valueSet(""),e.each(s,function(a,n){if(r===!0){var s=o().p,l=-1==s?s:T(s),u=-1==l?a:S(l);-1==e.inArray(n,b().slice(l+1,u))&&$.call(t,void 0,!0,n.charCodeAt(0),!1,i,a)}else $.call(t,void 0,!0,n.charCodeAt(0),!1,i,a),i=i||a>0&&a>o().p}),a&&O(t,P(),e(t).is(":focus")?S(v(0)):void 0)}function x(t){return e.inputmask.escapeRegex.call(this,t)}function K(e){return e.replace(new RegExp("("+x(b().join(""))+")*$"),"")}function F(t,a){if(!t.data("_inputmask")||a!==!0&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var n=[],r=o().validPositions;for(var s in r)r[s].match&&null!=r[s].match.fn&&n.push(r[s].input);var l=(at?n.reverse():n).join(""),u=(at?P().reverse():P()).join("");return e.isFunction(i.onUnMask)?i.onUnMask.call(t,u,l,i):l}function R(e){if(at&&"number"==typeof e&&(!i.greedy||""!=i.placeholder)){var t=P().length;e=t-e}return e}function B(t,a,n){var r,o=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof a){var s=e(o).data("_inputmask");return!e(o).is(":visible")&&s&&void 0!=s.caret?(a=s.caret.begin,n=s.caret.end):o.setSelectionRange?(a=o.selectionStart,n=o.selectionEnd):document.selection&&document.selection.createRange&&(r=document.selection.createRange(),a=0-r.duplicate().moveStart("character",-1e5),n=a+r.text.length),a=R(a),n=R(n),{begin:a,end:n}}a=R(a),n=R(n),n="number"==typeof n?n:a;var s=e(o).data("_inputmask")||{};s.caret={begin:a,end:n},e(o).data("_inputmask",s),e(o).is(":visible")&&(o.scrollLeft=o.scrollWidth,0==i.insertMode&&a==n&&n++,o.setSelectionRange?(o.selectionStart=a,o.selectionEnd=n):o.createTextRange&&(r=o.createTextRange(),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",a),r.select()))}function L(t){var a,i,n=P(),r=n.length,s=v(),l={},u=void 0!=o().validPositions[s]?o().validPositions[s].locator.slice():void 0;for(a=s+1;a<n.length;a++)i=k(a,u,a-1),u=i.locator.slice(),l[a]=e.extend(!0,{},i);for(a=r-1;a>s&&(i=l[a].match,(i.optionality||i.optionalQuantifier)&&n[a]==D(a,i));a--)r--;return t?{l:r,def:l[r]?l[r].match:void 0}:r}function I(e){var t=P(),a=t.slice(),i=L();a.length=i,O(e,a)}function N(t){if(e.isFunction(i.isComplete))return i.isComplete.call(et,t,i);if("*"==i.repeat)return void 0;var a=!1,n=L(!0),r=T(n.l),o=v();if(o==r&&(void 0==n.def||n.def.newBlockMarker||n.def.optionalQuantifier)){a=!0;for(var s=0;r>=s;s++){var l=M(s);if(l&&(void 0==t[s]||t[s]==D(s))||!l&&t[s]!=D(s)){a=!1;break}}}return a}function H(e,t){return at?e-t>1||e-t==1&&i.insertMode:t-e>1||t-e==1&&i.insertMode}function U(t){var a=e._data(t).events;e.each(a,function(t,a){e.each(a,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var a=t.handler;t.handler=function(e){return this.readOnly||this.disabled?void e.preventDefault:a.apply(this,arguments)}}})})}function V(t){function a(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var a=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},i=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var i=e(t);if(i.data("_inputmask")){if(i.data("_inputmask").opts.autoUnmask)return i.inputmask("unmaskedvalue");var n=a(t),r=i.data("_inputmask"),o=r.maskset,s=o._buffer;return s=s?s.join(""):"",n!=s?n:""}return a(t)},set:function(t,a){var n,r=e(t),o=r.data("_inputmask");return o?(n=i(t,e.isFunction(o.opts.onBeforeMask)?o.opts.onBeforeMask.call(st,a,o.opts):a),r.triggerHandler("setvalue.inputmask")):n=i(t,a),n},inputmaskpatch:!0}}}var i;if(Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(t,"value")),i&&i.get){if(!t._valueGet){var n=i.get,r=i.set;t._valueGet=function(){return at?n.call(this).split("").reverse().join(""):n.call(this)},t._valueSet=function(e){r.call(this,at?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),a=e(this).data("_inputmask");return a?a.opts.autoUnmask?t.inputmask("unmaskedvalue"):n.call(this)!=b().join("")?n.call(this):"":n.call(this)},set:function(t){var a=e(this).data("_inputmask");a?(r.call(this,e.isFunction(a.opts.onBeforeMask)?a.opts.onBeforeMask.call(st,t,a.opts):t),e(this).triggerHandler("setvalue.inputmask")):r.call(this,t)}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var n=t.__lookupGetter__("value"),r=t.__lookupSetter__("value");t._valueGet=function(){return at?n.call(this).split("").reverse().join(""):n.call(this)},t._valueSet=function(e){r.call(this,at?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),a=e(this).data("_inputmask");return a?a.opts.autoUnmask?t.inputmask("unmaskedvalue"):n.call(this)!=b().join("")?n.call(this):"":n.call(this)}),t.__defineSetter__("value",function(t){var a=e(this).data("_inputmask");a?(r.call(this,e.isFunction(a.opts.onBeforeMask)?a.opts.onBeforeMask.call(st,t,a.opts):t),e(this).triggerHandler("setvalue.inputmask")):r.call(this,t)})}}else t._valueGet||(t._valueGet=function(){return at?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=at?e.split("").reverse().join(""):e}),a(t.type)}function W(e,t,a){if(i.numericInput||at){switch(t){case i.keyCode.BACKSPACE:t=i.keyCode.DELETE;break;case i.keyCode.DELETE:t=i.keyCode.BACKSPACE}if(at){var n=a.end;a.end=a.begin,a.begin=n}}a.begin==a.end?t==i.keyCode.BACKSPACE?a.begin=T(a.begin):t==i.keyCode.DELETE&&a.end++:a.end-a.begin!=1||i.insertMode||t==i.keyCode.BACKSPACE&&a.begin--,h(a.begin,a.end);var r=S(-1);o().p=v()<r?r:a.begin}function q(e,t,a){if(t&&t.refreshFromBuffer){var i=t.refreshFromBuffer;C(i===!0?i:i.start,i.end),f(!0),O(e,P()),B(e,t.caret||a.begin,t.caret||a.end)}}function Q(t){it=!1;var a=this,n=e(a),r=t.keyCode,l=B(a);r==i.keyCode.BACKSPACE||r==i.keyCode.DELETE||s&&127==r||t.ctrlKey&&88==r?(t.preventDefault(),88==r&&(X=P().join("")),W(a,r,l),O(a,P(),o().p),a._valueGet()==b().join("")&&n.trigger("cleared"),i.showTooltip&&n.prop("title",o().mask)):r==i.keyCode.END||r==i.keyCode.PAGE_DOWN?setTimeout(function(){var e=S(v());i.insertMode||e!=w()||t.shiftKey||e--,B(a,t.shiftKey?l.begin:e,e)},0):r==i.keyCode.HOME&&!t.shiftKey||r==i.keyCode.PAGE_UP?B(a,0,t.shiftKey?l.begin:0):r==i.keyCode.ESCAPE||90==r&&t.ctrlKey?(j(a,!0,!1,X.split("")),n.click()):r!=i.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=i.insertMode||t.shiftKey||(r==i.keyCode.RIGHT?setTimeout(function(){var e=B(a);B(a,e.begin)},0):r==i.keyCode.LEFT&&setTimeout(function(){var e=B(a);B(a,at?e.begin+1:e.begin-1)},0)):(i.insertMode=!i.insertMode,B(a,i.insertMode||l.begin!=w()?l.begin:l.begin-1));var u=B(a),c=i.onKeyDown.call(this,t,P(),i);q(a,c,u),rt=-1!=e.inArray(r,i.ignorables)}function $(t,a,n,r,s,l){if(void 0==n&&it)return!1;it=!0;var u=this,c=e(u);t=t||window.event;var n=a?n:t.which||t.charCode||t.keyCode;if(!(a===!0||t.ctrlKey&&t.altKey)&&(t.ctrlKey||t.metaKey||rt))return!0;if(n){a!==!0&&46==n&&0==t.shiftKey&&","==i.radixPoint&&(n=44);var d,p,h=String.fromCharCode(n);if(a){var g=s?l:v()+1;d={begin:g,end:g}}else d=B(u);var _=H(d.begin,d.end);_&&(o().undoPositions=e.extend(!0,{},o().validPositions),W(u,i.keyCode.DELETE,d),i.insertMode||(i.insertMode=!i.insertMode,m(d.begin,s),i.insertMode=!i.insertMode),_=!i.multi),o().writeOutBuffer=!0;var y=at&&!_?d.end:d.begin,b=A(y,h,s);if(b!==!1){if(b!==!0&&(y=void 0!=b.pos?b.pos:y,h=void 0!=b.c?b.c:h),f(!0),void 0!=b.caret)p=b.caret;else{var C=o().validPositions;p=void 0!=C[y+1]&&k(d+1,C[y].locator.slice(),y).match.def!=C[y+1].match.def?y+1:S(y)}o().p=p}if(r!==!1){var E=this;if(setTimeout(function(){i.onKeyValidation.call(E,b,i)},0),o().writeOutBuffer&&b!==!1){var M=P();O(u,M,a?void 0:i.numericInput?T(p):p),a!==!0&&setTimeout(function(){N(M)===!0&&c.trigger("complete"),nt=!0,c.trigger("input")},0)}else _&&(o().buffer=void 0,o().validPositions=o().undoPositions)}else _&&(o().buffer=void 0,o().validPositions=o().undoPositions);if(i.showTooltip&&c.prop("title",o().mask),t&&1!=a){t.preventDefault?t.preventDefault():t.returnValue=!1;var w=B(u),G=i.onKeyPress.call(this,t,P(),i);q(u,G,w)}var D;for(var j in o().validPositions)D+=" "+j}}function J(t){var a=e(this),n=this,r=t.keyCode,o=P(),s=B(n),l=i.onKeyUp.call(this,t,o,i);q(n,l,s),r==i.keyCode.TAB&&i.showMaskOnFocus&&(a.hasClass("focus.inputmask")&&0==n._valueGet().length?(f(),o=P(),O(n,o),B(n,0),X=P().join("")):(O(n,o),B(n,R(0),R(w()))))}function z(t){if(nt===!0&&"input"==t.type)return nt=!1,!0;var a=this,n=e(a),r=a._valueGet();if("propertychange"==t.type&&a._valueGet().length<=w())return!0;"paste"==t.type&&(window.clipboardData&&window.clipboardData.getData?r=window.clipboardData.getData("Text"):t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(r=t.originalEvent.clipboardData.getData("text/plain")));var o=e.isFunction(i.onBeforePaste)?i.onBeforePaste.call(a,r,i):r;return j(a,!0,!1,o.split(""),!0),n.click(),N(P())===!0&&n.trigger("complete"),!1}function Z(e){if(nt===!0&&"input"==e.type)return nt=!1,!0;var t=this,a=B(t),n=t._valueGet();n=n.replace(new RegExp("("+x(b().join(""))+")*"),""),a.begin>n.length&&(B(t,n.length),a=B(t)),P().length-n.length!=1||n.charAt(a.begin)==P()[a.begin]||n.charAt(a.begin+1)==P()[a.begin]||M(a.begin)||(e.keyCode=i.keyCode.BACKSPACE,Q.call(t,e)),e.preventDefault()}function Y(t){if(et=e(t),et.is(":input")&&"number"!=et.attr("type")){if(et.data("_inputmask",{maskset:a,opts:i,isRTL:!1}),i.showTooltip&&et.prop("title",o().mask),V(t),("rtl"==t.dir||i.rightAlign)&&et.css("text-align","right"),"rtl"==t.dir||i.numericInput){t.dir="ltr",et.removeAttr("dir");var n=et.data("_inputmask");n.isRTL=!0,et.data("_inputmask",n),at=!0}et.unbind(".inputmask"),et.removeClass("focus.inputmask"),et.closest("form").bind("submit",function(){X!=P().join("")&&et.change()}).bind("reset",function(){setTimeout(function(){et.trigger("setvalue")},0)}),et.bind("mouseenter.inputmask",function(){var t=e(this),a=this;!t.hasClass("focus.inputmask")&&i.showMaskOnHover&&a._valueGet()!=P().join("")&&O(a,P())}).bind("blur.inputmask",function(){var t=e(this),a=this;if(t.data("_inputmask")){var n=a._valueGet(),r=P();t.removeClass("focus.inputmask"),X!=P().join("")&&t.change(),i.clearMaskOnLostFocus&&""!=n&&(n==b().join("")?a._valueSet(""):I(a)),N(r)===!1&&(t.trigger("incomplete"),i.clearIncomplete&&(f(),i.clearMaskOnLostFocus?a._valueSet(""):(r=b().slice(),O(a,r))))}}).bind("focus.inputmask",function(){var t=e(this),a=this,n=a._valueGet();i.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!i.showMaskOnHover||i.showMaskOnHover&&""==n)&&a._valueGet()!=P().join("")&&O(a,P(),S(v())),t.addClass("focus.inputmask"),X=P().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),a=this;i.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||a._valueGet()==t.attr("placeholder")||(a._valueGet()==b().join("")||""==a._valueGet()?a._valueSet(""):I(a)))}).bind("click.inputmask",function(){var e=this;setTimeout(function(){{var t=B(e);P()}if(t.begin==t.end){var a=at?R(t.begin):t.begin,i=v(a),n=S(i);n>a?M(a)?B(e,a):B(e,S(a)):B(e,n)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){B(e,0,S(v()))},0)}).bind(p+".inputmask dragdrop.inputmask drop.inputmask",z).bind("setvalue.inputmask",function(){var e=this;j(e,!0),X=P().join(""),e._valueGet()==b().join("")&&e._valueSet("")}).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared),et.bind("keydown.inputmask",Q).bind("keypress.inputmask",$).bind("keyup.inputmask",J),(l||c||u||d)&&("input"==p&&et.unbind(p+".inputmask"),et.bind("input.inputmask",Z)),r&&et.bind("input.inputmask",z);var s=e.isFunction(i.onBeforeMask)?i.onBeforeMask.call(t,t._valueGet(),i):t._valueGet();j(t,!0,!1,s.split(""),!0),X=P().join("");var m;try{m=document.activeElement}catch(h){}m===t?(et.addClass("focus.inputmask"),B(t,S(v()))):(N(P())===!1&&i.clearIncomplete&&f(),i.clearMaskOnLostFocus?P().join("")==b().join("")?t._valueSet(""):I(t):O(t,P())),U(t)}}var X,et,tt,at=!1,it=!1,nt=!1,rt=!1;if(void 0!=t)switch(t.action){case"isComplete":return et=e(t.el),a=et.data("_inputmask").maskset,i=et.data("_inputmask").opts,N(t.buffer);case"unmaskedvalue":return et=t.$input,a=et.data("_inputmask").maskset,i=et.data("_inputmask").opts,at=t.$input.data("_inputmask").isRTL,F(t.$input,t.skipDatepickerCheck);case"mask":X=P().join(""),Y(t.el);break;case"format":et=e({}),et.data("_inputmask",{maskset:a,opts:i,isRTL:i.numericInput}),i.numericInput&&(at=!0);var ot=t.value.split("");return j(et,!1,!1,at?ot.reverse():ot,!0),at?P().reverse().join(""):P().join("");case"isValid":et=e({}),et.data("_inputmask",{maskset:a,opts:i,isRTL:i.numericInput}),i.numericInput&&(at=!0);var ot=t.value.split("");return j(et,!1,!0,at?ot.reverse():ot),N(P());case"getemptymask":return et=e(t.el),a=et.data("_inputmask").maskset,i=et.data("_inputmask").opts,b();case"remove":var st=t.el;et=e(st),a=et.data("_inputmask").maskset,i=et.data("_inputmask").opts,st._valueSet(F(et)),et.unbind(".inputmask"),et.removeClass("focus.inputmask"),et.removeData("_inputmask");var lt;Object.getOwnPropertyDescriptor&&(lt=Object.getOwnPropertyDescriptor(st,"value")),lt&&lt.get?st._valueGet&&Object.defineProperty(st,"value",{get:st._valueGet,set:st._valueSet}):document.__lookupGetter__&&st.__lookupGetter__("value")&&st._valueGet&&(st.__defineGetter__("value",st._valueGet),st.__defineSetter__("value",st._valueSet));try{delete st._valueGet,delete st._valueSet}catch(ut){st._valueGet=void 0,st._valueSet=void 0}}}if(void 0===e.fn.inputmask){var r="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,o=navigator.userAgent,s=null!==o.match(new RegExp("iphone","i")),l=null!==o.match(new RegExp("android.*safari.*","i")),u=null!==o.match(new RegExp("android.*chrome.*","i")),c=null!==o.match(new RegExp("android.*firefox.*","i")),d=/Kindle/i.test(o)||/Silk/i.test(o)||/KFTT/i.test(o)||/KFOT/i.test(o)||/KFJWA/i.test(o)||/KFJWI/i.test(o)||/KFSOWI/i.test(o)||/KFTHWA/i.test(o)||/KFTHWI/i.test(o)||/KFAPWA/i.test(o)||/KFAPWI/i.test(o),p=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyUp:e.noop,onKeyPress:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,getLastValidPosition:void 0,rightAlign:!1,radixPoint:"",nojumps:!1,nojumpsThreshold:0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁё]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:void 0},masksCache:{},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,r){var o=e.extend(!0,{},e.inputmask.defaults,r);return a(o.alias,r,o),n({action:"format",value:t},i(o),o)},isValid:function(t,r){var o=e.extend(!0,{},e.inputmask.defaults,r);return a(o.alias,r,o),n({action:"isValid",value:t},i(o),o)}},e.fn.inputmask=function(t,r,o,s,l){function u(t,a){var i=e(t);for(var n in a){var r=i.data("inputmask-"+n.toLowerCase());void 0!=r&&(a[n]=r)}return a}o=o||n,s=s||"_inputmask";var c,d=e.extend(!0,{},e.inputmask.defaults,r);if("string"==typeof t)switch(t){case"mask":return a(d.alias,r,d),c=i(d),0==c.length?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},e.isArray(c)&&o===n?c[0]:c),u(this,d))});case"unmaskedvalue":var p=e(this);return p.data(s)?o({action:"unmaskedvalue",$input:p}):p.val();case"remove":return this.each(function(){var t=e(this);t.data(s)&&o({action:"remove",el:this})});case"getemptymask":return this.data(s)?o({action:"getemptymask",el:this}):"";case"hasMaskedValue":return this.data(s)?!this.data(s).opts.autoUnmask:!1;case"isComplete":return this.data(s)?o({action:"isComplete",buffer:this[0]._valueGet().split(""),el:this}):!0;case"getmetadata":return this.data(s)?(c=this.data(s).maskset,c.metadata):void 0;case"_detectScope":return a(d.alias,r,d),void 0==l||a(l,r,d)||-1!=e.inArray(l,["mask","unmaskedvalue","remove","getemptymask","hasMaskedValue","isComplete","getmetadata","_detectScope"])||(d.mask=l),e.isFunction(d.mask)&&(d.mask=d.mask.call(this,d)),e.isArray(d.mask);default:return a(t,r,d)||(d.mask=t),c=i(d),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},e.isArray(c)&&o===n?c[0]:c),u(this,d))})}else{if("object"==typeof t)return d=e.extend(!0,{},e.inputmask.defaults,t),a(d.alias,t,d),c=i(d),void 0==c?this:this.each(function(){o({action:"mask",el:this},e.extend(!0,{},e.isArray(c)&&o===n?c[0]:c),u(this,d))});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var i=e.parseJSON("{"+t+"}");e.extend(!0,i,r),d=e.extend(!0,{},e.inputmask.defaults,i),a(d.alias,i,d),d.alias=void 0,e(this).inputmask("mask",d,o)}catch(n){}})}}}}(jQuery);